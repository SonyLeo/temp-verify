## 文档一：功能设计文档 - 会话分享系统 V2.0

### **1. 项目概述**

#### **1.1 系统愿景**
构建一个健壮、高效且可扩展的会话分享后端服务。该系统不仅提供基础的会话分享与预览功能，还通过“智能链接”机制，无缝整合用户回流与拉新链路，最终成为一个可管理、可分析的用户增长工具。

#### **1.2 核心功能**
*   **创建分享**：用户可将一段对话生成一个唯一的、可通过 URL 访问的公开链接。
*   **预览分享**：任何拥有链接的人都可以查看分享的对话内容，并支持**静态**和**流式（打字机效果）**两种预览模式。
*   **智能路由**：分享链接能识别访问者身份。如果是分享创建者本人，则自动重定向回应用内继续对话，实现用户回流。
*   **分享管理**：用户可以查看自己创建的所有分享列表，并进行删除操作。

### **2. 核心流程与数据流**

#### **2.1 交互流程：创建分享**
1.  **用户操作**：用户在应用内选中一段对话，点击“分享”按钮。
2.  **前端请求**：前端应用收集选中的 `messages` 数组和 `originalConversationId`，通过 `POST /api/v1/shares` 接口发送给后端。
3.  **后端处理（智能幂等）**:  
    a.  服务接收请求，从认证信息中获取 `userId`。  
    b.  **计算内容哈希**：将 `messages` 数组的内容序列化并计算 SHA-256 哈希值 (`content_hash`)，以此作为这组分享内容的唯一指纹。  
    c.  **数据库查询**：使用 `(userId, originalConversationId, content_hash)` 查询 `shared_conversations` 表，检查是否存在完全相同的、未删除的分享。  
    d.  **逻辑分支**:  
        *   **若存在**：直接返回已存在的分享记录的 `shareId` 和 `shareUrl` (HTTP `200 OK`)。  
        *   **若不存在**：  
            i.  生成一个新的、唯一的 `shareId` (使用 nanoid)。  
            ii. **开启事务**：将分享元数据（`shareId`, `userId`, `content_hash` 等）写入 `shared_conversations` 表，并将每一条消息及其顺序写入   `shared_messages` 表。
            iii. **提交事务**。
            iv. 返回新生成的 `shareId` 和 `shareUrl` (HTTP `201 Created`)。
4.  **前端响应**：前端收到 `shareUrl` 后，将其展示给用户，用户可以复制和分享。

#### **2.2 交互流程：访问分享链接**
1.  **用户操作**：用户（访客或登录用户）在浏览器中打开链接 `https://yourdomain.com/share/{shareId}?mode=stream`。
2.  **后端智能路由 (`GET /share/:shareId`)**:  
    a.  后端接收请求，通过 `shareId` 查询 `shared_conversations` 表。若不存在或已软删除，则返回 404 页面。  
    b.  **异步更新浏览量**：在后台原子性地为该分享的 `view_count` 加 1。  
    c.  **身份识别**：检查请求中是否包含有效的认证信息 (`auth.optional`)。  
    d.  **逻辑分支**:  
        *   **访问者是创建者**：后端返回 HTTP `302` 重定向响应，目标地址为 `https://app.yourdomain.com/chat/{original_conversation_id}`。浏览器自动跳转。  
        *   **访问者是其他用户或访客**：后端返回预览页面的 内容 骨架。
3.  **前端渲染**:
    a.  页面加载后，前端 JavaScript 执行。  
    b.  **读取模式**：从 URL 中解析出 `mode=stream` 查询参数。  
    c.  **获取数据**：调用 `GET /api/v1/shares/{shareId}` 接口，从后端获取完整的消息列表。  
    d.  **条件渲染**：根据 `mode` 参数的值，选择渲染“打字机回放组件”或“静态内容展示组件”，将获取到的消息数据传入组件进行渲染。

#### **2.3 数据流向图**

![Upload<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1366 1736" width="1366" height="1736"><!-- svg-source:excalidraw --><metadata><!-- payload-type:application/vnd.excalidraw+json --><!-- payload-version:2 --><!-- payload-start -->eyJ2ZXJzaW9uIjoiMSIsImVuY29kaW5nIjoiYnN0cmluZyIsImNvbXByZXNzZWQiOnRydWUsImVuY29kZWQiOiJ4nO19a28ryZned/9cbuIsXHUwMDEwTJAhp+5cdTAwMTdcdTAwMDNBQFKUSIqkKJKSKNmGwEuLV5FcdTAwMTTv1GCAJEiC2Vx1MDAwZpsg8CZjwM4mNrKIgcBnXHUwMDAzXHUwMDAzXHUwMDFib2aD9Z/ZczzzL7aaOufwVi12U1x1MDAxNNXUtFxyXGaOmt1kVVc97/PUW2+975c/8vne9CdcdTAwMWTjzY99b4xxqdCslbuF0ZvPzetDo9urtVvqIzT9u9dcdTAwMWV0S9M7q/1+p/fjL76YPVx1MDAxMSi1b1x1MDAxZp4ymsat0er31H0/UX/7fF9O/6s+qZXNZ2WveH3RT5dcdTAwMGWjnbss9OdFaXJcdTAwMGanj05v+tiYrlHqXHUwMDE3WpWmMftorK5jij/9PVF/+7GAXHUwMDAx+unSqFbuV9VlSMGna1WjVqn21UU2u+/hm3/sm93V63fbXHIj3G62u+bP/1x1MDAxOTTM/89+vFgoNSrd9qBV/nRPv1to9TqFrurt7L6bWrOZ7U+m367emHo7b5Z+4+JDXHUwMDFi0dJ1q6fUj1aqLaPXW2hvu1Mo1frmK4BgdtVsYSdWnr78n83a1C3cXHUwMDFhMfPtt1x1MDAwNs3mp8u1Vtkw3+mbQmjh11rlXHUwMDBmv7Zwd88wzG+AWHBBmUTi0ydz81x1MDAwNC1fTLVb0ymDKMKQzZ6p9Vx1MDAwZdRE6U+/8qbQ7Fx1MDAxObNcdTAwMTdtNiCyPInmJ9LCPOlcdTAwMWLj2dufm2Znt/0rOlx1MDAwZd5cdTAwMDXTh6Or40zzKMfxyZtP93314V+zlzTolFx1MDAwYlx1MDAwZu2BnCFcdTAwMDJcdTAwMDXGgMLZq23WWo3ld9Jsl1x1MDAxYbMuTK9+9blu0utbszLpXHUwMDE3OvMw35lcYnBAXHUwMDAwpVxcMIjn3vrD7Kdyde5DXHUwMDExoFx1MDAxMlxuIVxi4lx1MDAxY1x1MDAxMyxWoYDA3kNcdTAwMDE+XHUwMDBmXHUwMDE0wvahQCVcdTAwMDBMcrky6c1cdTAwMWWtwOMjXHUwMDEyIMWMU4FcYthcdTAwMDRcZtucr7PpZ0471flws6Z+x/dZqNtcdTAwMWX1jO4/n1x1MDAxYsp2q5+t3U/bz1x1MDAxNq5cdTAwMWVcdTAwMTZua03z3bOFr1x1MDAwYjZrXHUwMDE18z28KalvNLpv5t9Gv6ZY49Nccre1cnneypfUl1x1MDAxNmoto1x1MDAxYrNDXHUwMDE37W6tUmtcdTAwMTWaubVdKFxm+u2M0XvoRL87MObflFx1MDAxMf2IXGZcdTAwMThA9Fx1MDAxMSCXYbvTL8qzy1x1MDAwNFx1MDAxY1+m4CB62O2RjdlcdTAwMGJcIiY99noqZFx1MDAwZuxDXHUwMDE2XHUwMDAxTFxiY4I4Yy+MJKZA4Wx3/IU6t9Hj04tkOFx1MDAxY77t0Wj0sFdJXHUwMDFlv1x1MDAxOH/pW/Nk/oJoznh6/LVccjBEXHUwMDFjSDmK1FuWXGbosGDJX4q4hJSUok2w8IOjrzV8sWv6yk7oJFnKomSjnEicd+lxU+Ckbfqi3uLrw7BtXHUwMDEzsYdcdTAwMGVcdTAwMTDLXHUwMDE0XHUwMDExqfVcdTAwMTdwRl9QXG4qXHUwMDAwwWgjyblcdTAwMTl/XHUwMDFkd6JcdTAwMDbjRjRaSKRyt5VcdTAwMDSKtOJHL8Zf+tbY4C9FW1x1MDAwMUVfXHUwMDAwQ4IxVDS2fv0lZUBCKTGHXHUwMDE4cyFcdTAwMDFbXHUwMDA1g0dfVmA4cqDlJCeEXHUwMDEzynRYsF5+MVx1MDAwMVx1MDAxNO1R6T7+Ouwq7jBaZV+w03FcdTAwMDN3rSGLZe7SN387vEVEPZuvx1nyslTv9C9rKXFePt+Yt7xl1zagXHUwMDFhdbLsolx1MDAxMFHGiDPaXHUwMDEykHFcdTAwMDRcYtzhsuv6fFx1MDAxOK+c5Yrd3DhcdTAwMWX093PDiOiLXHUwMDE3oy19a55MW9pll0dbvs2xXHUwMDEwc6DhJGVSXHUwMDAwzrRcdTAwMWHOetnFhFTzXG5s5EL/QdHWXHUwMDFhrtglbUXPclx1MDAxNZGMdlx1MDAxYlx1MDAwN6RcdTAwMWO9LlxcXSRj+apt2pJsWW1ql1tcYni05Vx1MDAwMKpxXHUwMDA3UFx1MDAwNURIxub9fnZ4S0pKKN1cdTAwMTCqm9FW63hUI0DUXHUwMDEy19FipTyJlJptcv5itKVvjVxy2pJcXFx1MDAwNohQy1skXHUwMDA05WTuXHUwMDE1W+92cVx1MDAxOFx1MDAwMFxiXHUwMDBirO5cdTAwMTZcdTAwMTRShlbB4PGWXHUwMDE1XHUwMDE4jlx1MDAxZICBMkxcYqZcdTAwMGV3u1x1MDAxOEOA8Vxyt36flbdCamBNu/9ZMFx1MDAxZPP9M1+mPei7xGm4hjaWXHUwMDE5bF1HtsNlXHUwMDFjn93eNVu1o8rk9CpyXTXaN0X7S7BlLrNYgnlcXOZcYr5cdCdcXIYlklx1MDAwYn5cdTAwMGZ7azCAXHUwMDE4XHUwMDAzilx1MDAwNndHZrnzTjzjr7LSUbJzkO+0am0wvHoxMtO35slkpt/68sjMtzlcdTAwMWGSXHUwMDBl0KBWYVhcclxmdOY8VFTGJFx1MDAxNnQjMPxAyWxccm+8XGaZjcLt6lx1MDAwMNxe+HOtZtF/dnY4rrRcIrbJXGZcdTAwMTLhbYQ9jN428Zuyj19cZlx1MDAxNJkpNDp0KKpGSoJ3XHUwMDE5hnhcdTAwMTXuNv23h63ccfRcdTAwMWVcdTAwMWbCdK6cx+TFuEzfXHUwMDFhXHUwMDFiXFxcdTAwMDaJJFx1MDAwMUlcdTAwMTHAWCopJ+wszFx1MDAxMFx1MDAwYlx1MDAwMEklVpqOXHR1XHUwMDA3WcWCx2VWWDhxwmVcXI2KWps5i+NQQ1xumER0s6CmZyWz5CR7mvBcdTAwMWRcdTAwMTT6hWKhZ7iBxNbwxTKJWXVgO+RcdTAwMDUjhd7gcIxzw2E3VbxcdTAwMDdZcJqmm5OXt1x1MDAxYrZccsCmnVx1MDAwMVx1MDAxNpry0yF7XHUwMDExwdQygs7Faz07fXWuivWD3n2qnTNcdTAwMWHFeFx1MDAxZN9EKuj2xehL35on05d+KebRl29zNJw6cUwgSFx1MDAxNSSgQ8eiJGp9TDZ0TPzA6GtccmPslr5cdTAwMTJX2WimfjPkqXHs+DhcdTAwMTlLtFx1MDAwMK/bpi9cdTAwMDKWl16A6Vx1MDAxY4k69sIzlepqvJZcdTAwMGK9qrFb+srYXHUwMDA3LFx1MDAwM1JiRvSuXHUwMDEzS/biknMkXHUwMDA02CF54ZtBN168LrZk/SzboPeH4VxcPvJi5KVvjVxy8lwiXHUwMDAyLM54JPnKfJdeuIaD2Z51MttcdTAwMTFcdTAwMDNYaKVcdTAwMWG1muxcZnNcdTAwMDZcdTAwMTGF7osx/NNf/vb913949/Uv3/39t+++/lx1MDAwZv/47f92XHUwMDAzP62hhGV+eqxcdTAwMTPb4ah7KnognTwz/JGD0PjKf9LpXHUwMDBlzzbmKFwihUdRT1x1MDAwNm3OSbwhJ0xcdTAwMTGO/miLJUdcdTAwMTHKJcJsl/GGd+P6fVx1MDAwMaQu8d3tqHqSvlxy9+Ptl9vr0rfGXHUwMDBlR815Ys3hpnPBL7NcdTAwMTWVd5DLwXQ/czDdJaGQWURcdTAwMTRaklx1MDAxNDbDayXg7iOp797+8d3b36j/fv/N21x1MDAwN/v+/c//4f1//Gs3UNVcdTAwMWFmWKaq9V3ZXHUwMDBlYYVcdTAwMTBcdTAwMWRXx1x1MDAwN6eNSekkl2yVWPrqXCKxilxc8yuXkLuSUlx1MDAwMOrWU1x1MDAxYaqCVMzesVx1MDAxYsBcdTAwMGKXrr+gN/DcPnghxdKMXHUwMDBm0LvvrddTTCAmNjzS9Szo7bRry1Q4+5dv9qanf3z6988+X3+3OdNmXHUwMDBmrFBis9Drh9u3t7W+6knabMXKq+5cdTAwMTe6/ZBcdTAwMWGeWquy/JnRKlt8Mn0q2O22R1WjsDLY6jnLzzrt5qQyXHUwMDFkwHWMW4in2ShcbvxXrUQj3Mi1SSVVLtjBLfNw+3B1q7i9cIBbQtWyXHUwMDEwOPWDQEGkQruL4vg93G6A21F9XHUwMDEyz1x1MDAwNu9cdTAwMGWrk9DReVx1MDAwNFx1MDAwZvCw3EJ2cFx1MDAwYsFKVL9cdTAwMDfcp1x1MDAwMzfvZMOBK/xcdTAwMDHm8Fx1MDAxMLU0z9+YjOtcdTAwMDF3n4F7145dnJzRYvhsgkJHXHUwMDA2vqifh1x1MDAxYbaAS6nHuNOrW1x1MDAwNe6lXHUwMDAz4Fxuilx1MDAxNFqAQ8Zl2Dxwx1xcXHUwMDE0tOlcdTAwMDF3XHUwMDAz4GJavDg9n5DJeFx1MDAxOG1cdTAwMWNmmplavaVJ4VAwf2lZKs/HtzxsoSCqgS7BM2B8XHUwMDAy7/47qJ5cdLlXeuTO3J9cdTAwMWbHXHUwMDA0fbjy1TKgXHUwMDExwIhcdTAwMTPJgHbpu4LyT25aSCXnXHUwMDE0zFxcjs/ups00uuNS8TLITu/HiUiFxVx1MDAwZo/Dhed10z6PtZib4kv3u9NYLOPZaFx1MDAxNtsjzUu6qY2NctaofFx1MDAxY2fzO1x1MDAxZjEm+vFcXDEmq45ujkFcdTAwMDBhXHUwMDA0JFx1MDAxNlx1MDAxMIL503BcdTAwMGZ2hejsXG4yXHJcdTAwMTCmXHUwMDAyXCLMuZzfvv1kZcj+m5ln8oNcdTAwMTdcdTAwMWNcYlx1MDAwNFx0XHUwMDExwYDpXHUwMDAz6yxDiZhcdTAwMWFcdTAwMTTBuNjInjyrIzx9ks35vih0al9cZuFcdTAwMTe9qlx1MDAxYc6e77Nb9Vx1MDAwMlxuXHUwMDE1o/f5T1tcdTAwMWa9zeF2a1x1MDAxOCu74rjHXHUwMDFhml72jz/eQ59lXHUwMDA3t+M177aPMCRcdTAwMDNuxFwig7xIX1x1MDAwMCPtz9vSXHUwMDE05jJ+WVRAPptBo1x1MDAxNaU92/KaXdtXqD+ToihuQVFQZZhcdTAwMDVxqCiUoGBcdTAwMWNvmlx1MDAxNGozSXFQZE15SM4qvXt2zK/y54dcdTAwMWR/Y1x1MDAxZiXFgqBA8DUrisVfjPWyXHUwMDFko1QrNDW/uPzZI0ZIP1x1MDAxMWxoXHUwMDExKWVcdTAwMDBcdFx1MDAwMDCTiCEmV8xcdTAwMTHWhfVjXHUwMDFjIFiqJyDhhFx1MDAwMS+u2YmFKjlcdTAwMTAjyMzxw5HeXHUwMDE0yeWLXHUwMDFmTZHASDIyf7LNLWLku7e//tPbb3ylabqc/nW10Ku6QXCs4fDVXHL5R3qxXHUwMDFkVVx1MDAxMVx1MDAxYrNmt5xcdTAwMDWFe3+ikUxVXHUwMDBlZSWlSbKqV1x1MDAxNWxZVUjdyVJcIjRriP1H7TPpivKTdVx1MDAwNTSTqFx1MDAwMWFx4NRSVzBcdTAwMGWlNOXI7mTFhKXSsD3I8JNcdTAwMDa6qFx1MDAxZOWvskb3mfOGP4+smJviS/e/Pl3xiDHRj6dccnVcdTAwMDAhZVx1MDAwMclcdTAwMDTEik9cdTAwMDTBfFlcdTAwMWVAnWExT1NcdTAwMDCGXHUwMDE1bXGA4Vxc8JjnqVhrZlxm++KAXHUwMDEwQYmYP7xkK/2EXHUwMDFhXHUwMDEwICRcIu5cdFx1MDAxZfgoXHUwMDBlspFEJJzztVu+6VwivnytXGLWbH2hr9qvlvTFiW/QM7qf/7RVmi7lP/eZzOtcbo/FXHUwMDFhul5cdTAwMTZcdTAwMTB2e+qz6Oh2NEa+XHUwMDE3v05cdTAwMTePusfJ434qdcp6tcFpz57GoHRZY+i2MfdZYZTbJlx1MDAxMexUYtxsQWJwIdBCRJ8t11x1MDAwNcZm6C/cpevi5LwhT1xujWqhnruLRUOHpWjoPriPXHUwMDFhw++JjEdcdTAwMDbUjshAXHUwMDE0TX1cdTAwMTBcYjLGiVx1MDAwMMuxTTpcdTAwMGZcdTAwMDSCU1x1MDAwZlx1MDAwNGWMUYC9TMOOXGZNxb7IUC9cdTAwMThSaOGAsFx1MDAxNFx1MDAxOVx1MDAxY2KCXHUwMDA0caHG+O6Pf/nul3/17lx1MDAwZr9//6s/fyDfWNlcclx1MDAwMmJcclx1MDAxN694IFx1MDAxZe3GduTB0N+7LLX6ty1cdTAwMDP6z0fJTIyLlOY4gN5cdTAwMDWBl+RcdTAwMDHVnV7b51iJXHUwMDE30Fx1MDAwN9Un61x1MDAwM0Y4hFxc6MtdWMpcdTAwMDN1v8BcdTAwMDSIXHUwMDFkeiAqRzFYQNXqXHUwMDFkvkOX4ewkbsBYdj/VgVx1MDAxNyxhPaA21Fx1MDAwMec8oIRcdTAwMDFQc1x1MDAxMGGOl8RcdTAwMDHRmVx1MDAxNUhggDKlhFx1MDAxOaaIeuLAmZWp2Vx1MDAxN1x1MDAwN0JAXHUwMDAwmdA7NK2zrlxiXG6QXHUwMDE0woXqQOlcdTAwMWPfybHvy1x1MDAwN0o96zZ9X7lBXHUwMDFjrGHiZXHwaC+2o1xy0HEmXHUwMDA0r4Kx00FccofOXHRPxOu5jF1tsOw6gPS1OVx1MDAwZna/PVF/sjZQ+EHKwlx1MDAwMqE90mDtO5BcdTAwMThwXHUwMDBlidhhQsyxZMd1XHUwMDEyXG6nU7k6XHUwMDEzWVx1MDAxNIrmwof7qFx1MDAwZTzXwSPjaUNcdTAwMWNAM1x1MDAwNlsqeydcdTAwMTCQZrrrpaRsRGdYXHUwMDE0Y1x1MDAwNSCVwlxmpqREXHUwMDFiSempXHUwMDAzKzvTsK9cdTAwMGXMjVx1MDAwNqW+qONqXHUwMDBmiDPKmVx1MDAwYpOyZXPBTM6Xy1x1MDAwNFPZYDhcdTAwMTc7SblBXHUwMDFjrKHila1cdTAwMDfrPmxHXHUwMDFhdDKVyc3gNGmEklx1MDAwNSjCnclA0tim0lx1MDAwMFx1MDAwMa3fwJNcdTAwMDZcdTAwMGUg23y6NGDCXFz+63dcdTAwMWGt3Vx1MDAwNohcdTAwMGKpVmG7XHUwMDE0XHUwMDA2XHUwMDE3KH2YjoY751x1MDAxNN7RXFz/SiZcdTAwMGJJT1x1MDAxOOyvMNCOp1x1MDAxZGFcdTAwMDBcdTAwMDVcdTAwMGJAQaBcIiFibonN6HCKKn0yLcJcdTAwMDNcZkPOiVx1MDAwNFxiL0Q7eMpgrZm5ta9cZlx1MDAxMGBC6S/hMNu4xNSMNt0stdazXG6DWCpcdTAwMWJRrKqw19bu6LtBJ6zh5WWdYL9L25Fccm3iv2rC3nFiWFx1MDAwNXeXMjm4XHUwMDFm1/xcdTAwMWLLXHUwMDA2XHUwMDA2PNnwRDy3tiBcdTAwMWKYWphRhrVcdTAwMGKAR6JcdTAwMTE4wkxKusNohC7JZirokMfP2dH1fexmklx1MDAxOealJ1x1MDAxY/ZWOOjH05Zw4MqYIFx1MDAwMFx1MDAxMcNcdTAwMDRxjlx1MDAxN3NcdTAwMTKqJa1OOChcdTAwMDMkqeSEY0hcYtXtanq6wcrOtFx1MDAxZOhcdTAwMDYzXHUwMDEwXHUwMDAxQOqw7LFUUk5u6KDctWz4eGzR91mz3e64XCK2cVxyM9tcdTAwMTBcdTAwMGWWndqOdJC1ce+4Rlx1MDAxMletXHUwMDExv74o+ced4InmILY96YAh8qTDXHUwMDEzId15snSgmFx1MDAwMy4sSutZKlx1MDAwN6lgTvhOj0pcXE7ylV42lU53XHUwMDBlSsHKwVx1MDAwNe3f5kaecNhb4aBcdTAwMWZPO8JBiYWARFx1MDAwMiCCJJRyqVQnXHUwMDA2OrPCSFx1MDAwMFx1MDAxMiwpJJBcdTAwMDGvVKczK3NnXzhwXHUwMDA1NEiJfmvzkUqdnECOpYvyo35UXHUwMDBl4ZNkMpZzgzpYQ77L6mC54dtRXHUwMDAwXHUwMDE30cYk1E2FXG6RylkoX6hdt8CdJvbY3klcdTAwMDasUPm6XHUwMDE0wFx1MDAwYsQqdp8sXHUwMDAxIJeUI2mR09hSXHUwMDAzYCghhzvNv88751FcdTAwMWFcdTAwMDSR2pk4qFx1MDAxN9v5oVx1MDAwNMPrfdRcdTAwMDDeUYbHXHUwMDA21JZcYmDgkaNcZpjqLFx1MDAwYlx1MDAwNNQ7y7CxoenZV1x1MDAwMWbpPmYmcXS27cBcdTAwMDTFgkJcdTAwMTemdno4XHUwMDA18P6//lx1MDAxZjedZFjDxfqTXGbaPmypVFxc7TJcdTAwMGb8I44v7y6CN5eDQa2R0mRZtneMgWjTtXrnXHUwMDE4XHUwMDFjQbb/ZG2gXGYrMlx1MDAwYqA621hQ6yxM+Wa1ijdTXHUwMDA20azE3Xw1XHUwMDE4qZxEa5ScjXjIP9hPZeBcdTAwMWRjsFx1MDAxZVBcdTAwMWLKgFNcdTAwMTlcdTAwMTCMqFx1MDAxNSV/yIqwaFa09SfNrVxixM1weSqo9MJcdTAwMTFcdTAwMWNcdTAwMTmZgX1dQJGwqMBgvaXAJVx1MDAwMFi4sO5cdTAwMTFcdTAwMDLQXHUwMDE37lx1MDAxYebXuu5cdTAwMWPDXHUwMDFhKl49x7CuK9tRXGKnXHUwMDE54e9cXNN8NV66ulx1MDAxOcDIOJxn9vZcdTAwMGZcdTAwMThadlx1MDAxZVx1MDAxMK49kaTLkLb/0H0mfTB8uu+AUmVo1WrMWaolXHUwMDA0oUBcdTAwMThuWM5sM4lwd5ePje+rufpNLJQ9q9RcdTAwMGVKnXO4l1x1MDAxMmFuki898IOSXGL6XHUwMDAxtSFcdTAwMTGIgMvGhOmMiVem14kxXHUwMDE52ddcdTAwMDFQSoFcdTAwMTC32CawrIEopVx1MDAxOfWBXFxcdTAwMThf8P5cdTAwMTf/8Kf/+a3bqlx1MDAxZq6h22VcdTAwMTXwWCe2w//pST9Tu4f3ycQkxY34MJOIXHUwMDFjpGzxP1mpXG5BudTt8+2xg2D3/D9+evhcdTAwMDCDXFxALlx1MDAxZFx1MDAwNlx1MDAxZSpRTyjkZIdFIfrhg3GwJq9yXHUwMDA3R9GTYuFudJVP7eVRRuY5XGKsx9NcdTAwMDb7MyhcdTAwMDJKr0LAzKokQixW/6ZMZ1ZcdTAwMTDFXHUwMDAxJXO5YEROjyx4eZhcdTAwMWSYmYl9ZaDsgqCUXG6HiVx1MDAwZVxiZFx1MDAxY1x1MDAwMeHCPMxHkZzvoVTCXHUwMDE3X37wu3/1r27bZeNfqmEx5s9yvJxOWEPLyzrBfpe2o1x1MDAxYW5Bs5vJ8nr8pnxxeVx1MDAxMO7cj7rxii3VoIk6VNbzlcVcdTAwMWPsXjbcb2FbQZlQYlFcdTAwMDPd2mtcdTAwMDBcdTAwMTimWKLNqjpuJlx1MDAxYnKXWXR9XFxcdTAwMWRcZor5ZqlcdTAwMTc8PW3el4f7KFx1MDAxYryIg0fG04ZsgGrpXHUwMDE5kFx1MDAxMkGzPiFcIlxizopcdTAwMDJM7Vxu0iZoxiAwXHKjZ1x1MDAwMFMz7NDbWbBvZ4pcdTAwMDDYXHUwMDE3XHUwMDBlgptnSJjDXGZJXGJcdTAwMDGOleZwX9yhjcTFXHUwMDFmuNdcdTAwMTVHXHUwMDE31nD0XHUwMDA2aZlXe7dcdTAwMWQ1MeqN+73wtb8or8/O47V70Lhq2IxgXFytXCLF5lZcdTAwMGZeXHUwMDExqU0gXHUwMDBln6wllO5cdTAwMDfAzHTmbFx1MDAwYsLMflwiXHUwMDEwgnCHYmJUT3SNo3o5XHUwMDE3XHUwMDFiXHUwMDBlR6NRupwmnco+ilx0r4qU5lx1MDAxN1x1MDAxZFSR0k9cdTAwMDQ7Klx1MDAwNEBcdTAwMThgklx1MDAwMUKUXHUwMDE0XHUwMDExS2VcIpi+iFx1MDAxNFx1MDAxMFx1MDAwMVx1MDAwNriEwEKBeEVcIizNXHUwMDEzsq9AoFLYXGYxfcpXy1xuUqZcdTAwMTNUqOWQ++JcdTAwMWLe/f9/+/53f+07S1x1MDAxZlx1MDAwNHORn7aGNWOkaHrQ6vv+hVx1MDAwZrpBc6xh8mXNsdBcdTAwMWafVXe2IzLq6VJcdTAwMWSi4LX/pDRqXHUwMDE5XHUwMDE1jOFcdNJEL9lcdTAwMGKFXHUwMDE02tov+7zTsftQyFwiwFtcdTAwMTBcdTAwMWGcYikgd3ZWXHUwMDEyXHQgXHUwMDExRbs8J1x1MDAxMYrfXHUwMDFmUpzJXcn2KS0no43jYfhkXHUwMDFmdYbf2+x4ZEBt6Fx1MDAwNUZ5XHUwMDAwSrM+XHUwMDE0UCtdRFx1MDAxNqMhXHUwMDA10FlcdTAwMTYolMSAZiSkXHUwMDE0dOq20Kxo9sTSvIBkIFx1MDAwZSSDML1KkDmsLFx1MDAwNTGSmFxiN5adxFx1MDAwMPkyRrnWNUp9X7/tXHUwMDBidjq+s0zCXHJyYVxyJy/LhbU92Y5S6LWio+syPmqE4sVcYrhsh1x1MDAwNsmWsalSkOC1xUS8hFKgT4+K5IhcdTAwMGIzTY1Dl1x1MDAwNFXmgO5QJ9BQ9K7dv2QwcXtNaTFz5ZeZXHUwMDAzTyfsr07QXHUwMDBmqFx1MDAxZJ0g8NStoOhcYlx1MDAxMCTZ4uaGkDq7XHUwMDAy0YNfgUMoIVx1MDAwMd7mhjMzw1x1MDAxY2xuXGKGmcKbs+OUZqZuitGGxeZ2cJ7y+9/8u+/+19ff//pvfdFcXNJcdTAwMTVcdTAwMWFhXHJcdTAwMWLrj1RadWNL9akzV+Kmd9y6S5+FS73L4ujI37yxJVx1MDAxMFZjJiV7bZ6EXHUwMDE32LHgW3AkXHUwMDAwSaRkQovnR6ImkVx1MDAwMNQstbM7hXA0jJeS1fNkPXTaa4zOJ81GorWXnlx1MDAwNE8gPDKeNlx1MDAwNIJSs1x1MDAwMUVAXHUwMDEwXCJcZlxiW954kFRnWJCkXHUwMDAxXG4l59PSUJ48cGRmhFx1MDAwMzdcdTAwMDJFVEg+X2najj7AZjVcdTAwMGZcdTAwMDGR+45TTCNcZlx1MDAwYp3aXHUwMDE3Q/hcdTAwMTBo2JtFXHUwMDFh+j5TTPv9f/tNPPvuP/3n7/72XHUwMDBmrlxif1hD0tpcYkrn/duOoFx1MDAwMHfxei6RXHRcdTAwMTaafoHb5XIynUCanCs2K0pcdTAwMDGo23L04ilcdTAwMWRhXT5ZUnBllDmzKFH/yDFMrCCL5vO0PLuiQPF+4ridSdIkisfL49NcdTAwMTaN9fey4KRcdTAwMTdQ+ch42lBcdTAwMTTTgEolaSGRZMl98Fx1MDAwMVc6y2JGVFKCuVJcInwh/sHTXHUwMDE06+1M0IGmkMqcQMpcdTAwMWNqXG6OmVx1MDAxOWhcdTAwMDLcpyk+hFx1MDAxY84yJH+MMVxciD28rrkjnnJccklbxFM66tx21MTNSTXTOFx1MDAxZrWPWDeFbnuTXHUwMDE0rUdu7amJ1YSQS1x1MDAxMZavQU28xFx1MDAwNkZoXHUwMDFioVx1MDAwZZir8XHqoYBcZlx1MDAwMYrYLvNCXHUwMDFmnt1cdTAwMThntSxF6Vxc76h5fN7tXHUwMDA0u7191Fx1MDAxM15OyMdcdTAwMDbUjqBAbNmcUJ058dI6OLImYVx1MDAwN6JcdTAwMDEg81x1MDAxNFx1MDAwNtKbXHLLvFx1MDAwZUrKXHUwMDAxsOhcdTAwMGZ1i2r4kDTx/379/t/8zbuvv/nu1791gzpYQ7pcdTAwMTaZXHUwMDFmtZ3YUurHq9tSPn/RUCNcdTAwMWZcdTAwMDHhRDZ2eZFv2lNcdTAwMDGrUVxmUM2HV7ZN8Vx1MDAxMirg4MkqgFx1MDAxMya5XHUwMDAykcPaXHUwMDEwkCgrsNNDmuFwuXNcdTAwMTlcdTAwMGLng/woftC4J+NGXHUwMDE1XHUwMDE4e6lcdTAwMDG8bYpHXHUwMDA21IZcdTAwMDYw41x1MDAxZIlkQDCIXHUwMDAwU/y/ZFmAzrKYXHUwMDAxj1x1MDAwMHChuItcbi68vNDOXGZNxIFAMIt+MqqPi3okkFx1MDAwMUGEMXRheVxiXHUwMDA0gO/k2Pflp6W3+sFAIPAzl6SBfJyWV9NAru/MdvRCpFx1MDAxNKqfRDJC+lx1MDAxM80ux5ftm16sbjOoQazIhbloJe9cdTAwMTDmJlxiPnyyVFBcdTAwMDCllEqLQrOP1ZDA6jG8w5hHXGKHtISzfXBcdTAwMWG/6pP+cS11WMrso1bwzmBqftHBXHUwMDE5TP1EsKExMEFcdTAwMDGuyIhMN8/MJNNL9ohqoyU5XG5QTiVEhFPzcIUmhZR3XHUwMDEw09JEXHUwMDFkOVx1MDAxMVx1MDAxOUBwgDjVJqWzPIkpJeJcZuLNzoM/b3bJ//H/3v/FW99cXIol3/u/+/37//7zn7be//nP3/3um/e/+vb9f/n6/V/9ylxyomNccrevZJ206pxl17YjQfxXqaNsM2hcdTAwMWN2YTOdXHUwMDBmjcetdlLjZjS/cmmJXHUwMDAxZ7tcdTAwMTHma/RzXezTfFFlz1uxXHUwMDFl31EnW5NcdTAwMDIozVx1MDAwMPVJ4lZA/1x1MDAxMd9EmDVpiItOWm9VXHUwMDBlzE24pfvdqVx1MDAwN1x1MDAxNj7rtJuTynT8pm/oXHUwMDEx2F4lyydwXHUwMDE0XHUwMDFh543D82Y8OszG45W8XHUwMDFk2Jp5m2zgdjaQn1BL53azPdz6XHUwMDE2cVx1MDAxYrOPW2Ku1Fx1MDAxNDdrI1xuLGGrpFx1MDAxMsVcdTAwMDJsdnza/bBduFvNtFdcbttuPZFcdTAwMThWh/KiXGa6jUq1wdK4cLxcdNtcdTAwMTKsK+Disa0z1Mbto9bcz6PEXCLpgSVqIVGPmaVb3Fx1MDAxM1xi5LGtc9j2o5OUqIPTZqlXjiTHUlx1MDAxY2evq9tcdTAwMTPJXHUwMDFl2TqD7bFcdTAwMDORXGY4J1x1MDAxNlx1MDAwNVx1MDAxOFx1MDAxZuFaRM1sau7xs3tcXOtcdTAwMWO0Z73G6FxiREuy2EpP7jHMnFGhyYy+XHUwMDFltEJcdTAwMTeA61GtM8wmXHUwMDFjXGJkjlx1MDAwMKRcdTAwMTI4W9dCRFx1MDAwMGKKb1+pQv6BUG318k7cp85cdTAwMGWN9G0+e1x1MDAxNOzEqpdcdTAwMTendlCLxFwiajnWJlx1MDAwMUTCw61cdTAwMTPcJu3jXHUwMDE2XHUwMDExrMTuvNadwy1cXL44wy2TUmlrXHUwMDE3OZy3uz81N+OWXHUwMDFleFXAndBcIj+PXGZyNJLHobPhxeQ6WtZcdTAwMWOAseGR0iNXJ5LnvCFcdTAwMWVwfYvATdlcdTAwMDcuY1RgRlx1MDAxZK5tpYSUXHUwMDEy6qK0XHUwMDFhz6iSIXulsKXn9Wjjslx1MDAxZiR0QC/T/uPiUXOgXHRBWc+3Sn9ZZMfxXGLXXHRuT+zjVjLGXHRcdTAwMDH6066WhIsgg1xmi9fqkvqh8K2fXHUwMDBlY0ZcdTAwMGKMWse5XFzlZnDdqneubO1cdTAwMDDZXHUwMDEzylx1MDAxZd06g23agU+KXGKgiHM+xMKWUJbMXGbMkMI96S49wnWO29FhI3R+Ulx1MDAxZlx1MDAxNP3JNI+GQ/eHXHUwMDE3ebRcdG6Fdlx1MDAwYsjjW4fAPbVcdTAwMGZcXIK4MMslOsUtNtPPUeZcdTAwMTHuXlx1MDAwM7eYa5Xh0Vx1MDAxMc1dpMaR1riVrNGzlq1cdTAwMDOZQIhcdTAwMDBcXMrr4Gc61qVcImBmXHUwMDBlXHUwMDEwQFJcdTAwMGUwfKW5op5cdTAwMGLKXHUwMDE5J1x1MDAxY4whpoJotTNe8TzP8jpwipmLYqc+xkb+5N1cdTAwMWZ+/+53v3j3q9/+bFx1MDAxYsGPTeNmbjY4XGZ9XFxo93Kco7ah21x0ZaxcdTAwMTVSNFxiXHUwMDBlXHUwMDFh4W4odppkiLezwZg9gCowLlx1MDAwM1Tqdmo9fPqegM+sXHUwMDAzfHKFXGJMoFYjW+PTrMJcclx1MDAxOaUu2lx1MDAwNPqE0H/8u7/YXHUwMDBmhOpcdTAwMWG6XHUwMDFkhGZa/UQzXHUwMDA088NR/+T0Mk8j7Vx1MDAwMrGFUKHQuFxmUE60VVx1MDAxYlx1MDAxMPIgujlEc04gqtBGOOBcdTAwMGUhKlx1MDAwNUOUSVx1MDAxN+Zb/Ml3b//4/Tdvv/vX//79L/7m3de/fPf336p/u1x1MDAxZK7rXHUwMDFhvVx1MDAxZOi2yYlx1L68vlx1MDAwYp3BXFyvXHUwMDFm4mGGruxAV1x1MDAwMrZcdTAwMDJdQYguv5GH3Ccg98zJyVx1MDAwMVx1MDAwNV1G9flJrJGLgFrHXCIkXFyYn8RcdTAwMDTBu7e/2Vx1MDAwM6gutnJLwpff3FxyoyxcdTAwMTjloSRcdTAwMWY2M+HqXUNcdTAwMTMzYZZweUDNXHUwMDAyQO3FKGKNV4ltXHUwMDE5jX9mSKNk3Ow7XHUwMDEyz50gXHUwMDExXHSpuFCfXtDyvDChXGZDvqEn+MNcdTAwMDdcdTAwMGXPXHUwMDBiXHUwMDE38dXlRaRExiN/OZY7XHUwMDBmt++KvPa854VcdTAwMWaZ8frW2GAjhnCAXHUwMDEyXHUwMDAy1IqPKFx1MDAxM8hcdTAwMTZcdTAwMGKB+bX5u6FcYkioZFx1MDAwYl9O+f2aaOm5XHUwMDBlrF44OVx1MDAxOFx1MDAwM1x1MDAwNMGQOUu1XHSFXHUwMDFhRVem7y40+9vgo6dcdTAwMWVEXcNcdTAwMGXLJLXQ6u3w013ofoBCXHUwMDA1VLxPgKODWFx1MDAwNd/ia005XHUwMDFlXHUwMDBifrK3X+nx08c2rYVk3lx1MDAwMT+ZXHUwMDE1xSWWSKdcdTAwMTRXK43PMtlRTMVuk18hXG7GrXp8eHFRzFx1MDAxM4zvTsNyUnwxgtK3xlx1MDAwNkEhiVx1MDAwMspcdTAwMDRcdTAwMDJIKGJqObRIUJzq5j6CXHUwMDAxxrDkQFx1MDAxMm5WXn6lK6fnoqhLR9tcdTAwMDaYU8n1oXKWW4CUXG4k8IZwcFx1MDAxNUfRhW/YXHUwMDFhR61hiO1y1I8+WIE3hU4n21dv9M3HXHUwMDFjP2/MctghjeG/mf7PtCZTuJtcdTAwMTPdmKZcdTAwMDb66kdf/Vx1MDAxM7gltKsifQ==<!-- payload-end --></metadata><defs><style class="style-fonts">
      @font-face { font-family: Nunito; src: url(data:font/woff2;base64,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); }
      @font-face { font-family: Excalifont; src: url(data:font/woff2;base64,d09GMgABAAAAAAP0AA4AAAAABxQAAAOiAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGhYbgQYcNAZgAEQRCAqEWINbCwoAATYCJAMQBCAFgxgHIBuYBVGUD0qa7COhus0ecyBJmpdRJjC/Omfw72bNS1LzAC1rqZgLrLt92p3D89Xtzd87pOTGkzhPgqCEA9Wd/2vyt+NovBa9Vohagfw3gUyxCc6irEEGHAU4oAPdG5jP3BU0peS89pAkaS158XF3EIAiAAAoBEEjCECeFQ/MHhAWB+HdXFMG4VOTXwrhl11XASEGgL/R9ubXVEAWMoNBqQlZFO6DgB0jFAYgQVmUoP02OICwYaO3sAjgCIDTTOLIFCmyGUkSgFCehFyw8Tc4iQv5nYEROINsddXw/wipaiANHLAaAMifJAAcWQAFoAEsGuF0GFYAWbIoQLYydS0JUyRrJGLJJMhWrhtUJQMAZE3tZQBvgGFwkU3balY/NX7DIxOxeFk5v1uw+vFp18WC0wqj8aKNIpa3kSeKFz3k7eTx5ubYDQ7ihffj85clPHiQMGp43fP8ou7V/A0P9Dbc2GG2xXxr/AhfvGvVsnVk/eNF6x7rLFcYNe4S8eJFWPPgAZY+XLlSS8TOZR8yEe9bNe+R7vKFy/gb2JEDfL1N4tUC18OBArLdfmvc9ZCnv/nyZnv7g/O3sBsOPPBb7diuFUt5XeaijYaLEQnW/+Ll+otFWlpr2B1bbgTNHTgn/d5b02C85ElkPM+EmPgfNcvTmQ5SiZRRK17mdCMtdUIQIdBJ1RxXjmT+IWWasyXgvJ7dVr63oW91nE+62mPSlh9EN8nYhTC2s0n7q5hiIbo1BJdfkXZNJRl5hStCSuGWWTN//iKqU4oOlFcyVzoqI3LrILQ/t3u9UstlsOtuqv69Q/oKrQZsUILvuSdyC/bmPH/j66yRpHhmFR4p4m+wMKSrCvStn+31vrtxO7qz/whQ3StID1Bxko/cLfw/387qR9R+7z7/xuK2QKae3XXm7stor6xWx/Coaq4DAAACILBiz4KmTBW3X7IK9BcA3jab+AHAu3XfWyV9/7cy34YzAFlUcB+vMNUnyH//jkFgJ1M58I8XDLyFXYyRAOEZjyENKeihF+CkjBQ0MuQAlLmHKhKsUyJF2R6RZmJAZOjJEaV40LuEND2Avya5spUpVqBShTrmYuQrVK9MthoJ8tWoVexKOdYsWJVf7CpQmWZVitTi2LJgg2PElg0bjozVNbhBtfn9xAoUwVU0SKOnkS9/a5VmNYoVKlKHYySXMY4NKzbscHI046Rp5qmRrZEFjrcyZTh5UttE+QzyowYqyWOBBlHyPykDAA==); }</style></defs><rect x="0" y="0" width="1366" height="1736" fill="#ffffff"></rect><g stroke-linecap="round" transform="translate(76 10) rotate(0 75 32.5)"><path d="M0 0 C34.78 0, 69.55 0, 150 0 M0 0 C44.65 0, 89.31 0, 150 0 M150 0 C150 14, 150 27.99, 150 65 M150 0 C150 21.8, 150 43.6, 150 65 M150 65 C119.54 65, 89.08 65, 0 65 M150 65 C110.96 65, 71.92 65, 0 65 M0 65 C0 39.88, 0 14.76, 0 0 M0 65 C0 42.57, 0 20.14, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(91.70405578613281 32.5) rotate(0 59.29594421386719 10)"><text x="59.29594421386719" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Client (Browser)</text></g><g stroke-linecap="round" transform="translate(76 1661) rotate(0 75 32.5)"><path d="M0 0 C48.47 0, 96.94 0, 150 0 M0 0 C44.52 0, 89.04 0, 150 0 M150 0 C150 14.45, 150 28.9, 150 65 M150 0 C150 19.52, 150 39.04, 150 65 M150 65 C102.04 65, 54.09 65, 0 65 M150 65 C94.4 65, 38.81 65, 0 65 M0 65 C0 46.5, 0 28, 0 0 M0 65 C0 48.6, 0 32.2, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(91.70405578613281 1683.5) rotate(0 59.29594421386719 10)"><text x="59.29594421386719" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Client (Browser)</text></g><g stroke-linecap="round" transform="translate(276 10) rotate(0 75 32.5)"><path d="M0 0 C38.25 0, 76.49 0, 150 0 M0 0 C34.32 0, 68.64 0, 150 0 M150 0 C150 25.01, 150 50.01, 150 65 M150 0 C150 24.21, 150 48.43, 150 65 M150 65 C104.51 65, 59.02 65, 0 65 M150 65 C117.65 65, 85.29 65, 0 65 M0 65 C0 48.21, 0 31.42, 0 0 M0 65 C0 47.14, 0 29.27, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(301.04003143310547 32.5) rotate(0 49.95996856689453 10)"><text x="49.95996856689453" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Frontend App</text></g><g stroke-linecap="round" transform="translate(276 1661) rotate(0 75 32.5)"><path d="M0 0 C54.05 0, 108.09 0, 150 0 M0 0 C46.39 0, 92.78 0, 150 0 M150 0 C150 23.62, 150 47.24, 150 65 M150 0 C150 25.31, 150 50.61, 150 65 M150 65 C113.56 65, 77.12 65, 0 65 M150 65 C96.8 65, 43.6 65, 0 65 M0 65 C0 43.9, 0 22.8, 0 0 M0 65 C0 39.41, 0 13.82, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(301.04003143310547 1683.5) rotate(0 49.95996856689453 10)"><text x="49.95996856689453" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Frontend App</text></g><g stroke-linecap="round" transform="translate(688 10) rotate(0 100 32.5)"><path d="M0 0 C63.78 0, 127.57 0, 200 0 M0 0 C51.36 0, 102.72 0, 200 0 M200 0 C200 17.31, 200 34.63, 200 65 M200 0 C200 25.43, 200 50.87, 200 65 M200 65 C125.05 65, 50.1 65, 0 65 M200 65 C150 65, 99.99 65, 0 65 M0 65 C0 42.39, 0 19.78, 0 0 M0 65 C0 39.44, 0 13.87, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(702.4880828857422 32.5) rotate(0 85.51191711425781 10)"><text x="85.51191711425781" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Backend (API &amp; Router)</text></g><g stroke-linecap="round" transform="translate(688 1661) rotate(0 100 32.5)"><path d="M0 0 C51.49 0, 102.98 0, 200 0 M0 0 C78.64 0, 157.29 0, 200 0 M200 0 C200 22.64, 200 45.29, 200 65 M200 0 C200 20.93, 200 41.87, 200 65 M200 65 C123.68 65, 47.36 65, 0 65 M200 65 C126.55 65, 53.1 65, 0 65 M0 65 C0 42.96, 0 20.93, 0 0 M0 65 C0 41.54, 0 18.08, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(702.4880828857422 1683.5) rotate(0 85.51191711425781 10)"><text x="85.51191711425781" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">Backend (API &amp; Router)</text></g><g stroke-linecap="round" transform="translate(1206 10) rotate(0 75 32.5)"><path d="M0 0 C37.42 0, 74.83 0, 150 0 M0 0 C51.51 0, 103.02 0, 150 0 M150 0 C150 20.22, 150 40.44, 150 65 M150 0 C150 21.35, 150 42.69, 150 65 M150 65 C106.01 65, 62.02 65, 0 65 M150 65 C108.75 65, 67.5 65, 0 65 M0 65 C0 41.86, 0 18.72, 0 0 M0 65 C0 39.84, 0 14.67, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1217.952033996582 32.5) rotate(0 63.04796600341797 10)"><text x="63.04796600341797" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">MySQL Database</text></g><g stroke-linecap="round" transform="translate(1206 1661) rotate(0 75 32.5)"><path d="M0 0 C32.3 0, 64.59 0, 150 0 M0 0 C50.31 0, 100.62 0, 150 0 M150 0 C150 13.2, 150 26.4, 150 65 M150 0 C150 16.92, 150 33.83, 150 65 M150 65 C92.03 65, 34.06 65, 0 65 M150 65 C98.24 65, 46.48 65, 0 65 M0 65 C0 51.77, 0 38.53, 0 0 M0 65 C0 47.73, 0 30.47, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(1217.952033996582 1683.5) rotate(0 63.04796600341797 10)"><text x="63.04796600341797" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">MySQL Database</text></g><g stroke-linecap="round" transform="translate(126 85) rotate(0 125 19.5)"><path d="M0 0 C55.59 0, 111.17 0, 250 0 M250 0 C250 11.71, 250 23.43, 250 39 M250 39 C170.07 39, 90.14 39, 0 39 M0 39 C0 24.55, 0 10.09, 0 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g transform="translate(203 94.5) rotate(0 48 10)"><text x="48" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">用户创建分享</text></g><g stroke-linecap="round" transform="translate(126 890) rotate(0 125 19.5)"><path d="M0 0 C96.17 0, 192.35 0, 250 0 M250 0 C250 14.53, 250 29.06, 250 39 M250 39 C174.18 39, 98.36 39, 0 39 M0 39 C0 30.59, 0 22.18, 0 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="8 10"></path></g><g transform="translate(187 899.5) rotate(0 64 10)"><text x="64" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">访客访问分享链接</text></g><g stroke-linecap="round"><g transform="translate(151 75) rotate(0 0 793)"><path d="M0 0 C0 576.35, 0 1152.7, 0 1586 M0 0 C0 617.45, 0 1234.91, 0 1586" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(351 75) rotate(0 0 793)"><path d="M0 0 C0 422.45, 0 844.91, 0 1586 M0 0 C0 620.56, 0 1241.13, 0 1586" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(788 75) rotate(0 0 793)"><path d="M0 0 C0 552.53, 0 1105.07, 0 1586 M0 0 C0 510.77, 0 1021.54, 0 1586" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1281 75) rotate(0 0 793)"><path d="M0 0 C0 493.42, 0 986.84, 0 1586 M0 0 C0 520.86, 0 1041.73, 0 1586" stroke="#1e1e1e" stroke-width="1" fill="none"></path></g></g><mask></mask><g mask="url(#mask-35bWQVy4yxvHkFRlRijnG)" stroke-linecap="round"><g transform="translate(352.5 166) rotate(0 215.5 0)"><path d="M0 0 C71.83 0, 359.17 0, 431 0 M0 0 C71.83 0, 359.17 0, 431 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(352.5 166) rotate(0 215.5 0)"><path d="M407.51 8.55 C412.28 6.81, 417.05 5.08, 431 0 M407.51 8.55 C413.62 6.33, 419.74 4.1, 431 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(352.5 166) rotate(0 215.5 0)"><path d="M407.51 -8.55 C412.28 -6.81, 417.05 -5.08, 431 0 M407.51 -8.55 C413.62 -6.33, 419.74 -4.1, 431 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-35bWQVy4yxvHkFRlRijnG"><rect x="0" y="0" fill="#fff" width="883.5" height="266"></rect><rect x="453.23209381103516" y="146" fill="#000" width="229.5358123779297" height="40" opacity="1"></rect></mask><g transform="translate(453.23209381103516 146) rotate(0 114.76790618896484 20)"><text x="114.76790618896484" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">POST /api/v1/shares (messages,</text><text x="114.76790618896484" y="35.264" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">originalConvId)</text></g><g mask="url(#mask-roG314u7eIEuX8PW0eP-X)" stroke-linecap="round"><g transform="translate(788.5 217.5) rotate(0 0.5 10.5)"><path d="M0 0 C0.17 3.5, 0.83 17.5, 1 21 M0 0 C0.17 3.5, 0.83 17.5, 1 21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(788.5 217.5) rotate(0 0.5 10.5)"><path d="M-3.06 11.3 C-1.76 14.4, -0.46 17.5, 1 21 M-3.06 11.3 C-1.56 14.9, -0.05 18.49, 1 21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(788.5 217.5) rotate(0 0.5 10.5)"><path d="M4.12 10.96 C3.12 14.17, 2.13 17.38, 1 21 M4.12 10.96 C2.96 14.68, 1.81 18.4, 1 21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-roG314u7eIEuX8PW0eP-X"><rect x="0" y="0" fill="#fff" width="889.5" height="338.5"></rect><rect x="722.2800369262695" y="218" fill="#000" width="133.43992614746094" height="20" opacity="1"></rect></mask><g transform="translate(722.2800369262695 218) rotate(0 66.71996307373047 10)"><text x="66.71996307373047" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">计算 content_hash</text></g><g mask="url(#mask-Ix6lrdS0az-LkMNgF9gNM)" stroke-linecap="round"><g transform="translate(789.5 300) rotate(0 243.5 0)"><path d="M0 0 C81.17 0, 405.83 0, 487 0 M0 0 C81.17 0, 405.83 0, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(789.5 300) rotate(0 243.5 0)"><path d="M463.51 8.55 C470.63 5.96, 477.76 3.36, 487 0 M463.51 8.55 C468.57 6.71, 473.64 4.86, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(789.5 300) rotate(0 243.5 0)"><path d="M463.51 -8.55 C470.63 -5.96, 477.76 -3.36, 487 0 M463.51 -8.55 C468.57 -6.71, 473.64 -4.86, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-Ix6lrdS0az-LkMNgF9gNM"><rect x="0" y="0" fill="#fff" width="1376.5" height="400"></rect><rect x="879.9681396484375" y="280" fill="#000" width="306.063720703125" height="40" opacity="1"></rect></mask><g transform="translate(879.9681396484375 280) rotate(0 153.0318603515625 20)"><text x="153.0318603515625" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">SELECT on shared_conversations (by user,</text><text x="153.0318603515625" y="35.264" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">convId, hash)</text></g><g mask="url(#mask-XsJ_PbGrKMKtNNQ6siuQs)" stroke-linecap="round"><g transform="translate(1279.5 398) rotate(0 -243.5 0)"><path d="M0 0 C-81.17 0, -405.83 0, -487 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g><g transform="translate(1279.5 398) rotate(0 -243.5 0)"><path d="M-463.51 -8.55 C-469.22 -6.47, -474.92 -4.4, -487 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 6"></path></g><g transform="translate(1279.5 398) rotate(0 -243.5 0)"><path d="M-463.51 8.55 C-469.22 6.47, -474.92 4.4, -487 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 6"></path></g></g><mask id="mask-XsJ_PbGrKMKtNNQ6siuQs"><rect x="0" y="0" fill="#fff" width="1866.5" height="498"></rect><rect x="975.2800216674805" y="388" fill="#000" width="121.43995666503906" height="20" opacity="1"></rect></mask><g transform="translate(975.2800216674805 388) rotate(0 60.71997833251953 10)"><text x="60.71997833251953" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">返回已有 shareId</text></g><g mask="url(#mask-v-sYcntmne1-VwMRI78NL)" stroke-linecap="round"><g transform="translate(786.5 450) rotate(0 -215.5 0)"><path d="M0 0 C-71.83 0, -359.17 0, -431 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g><g transform="translate(786.5 450) rotate(0 -215.5 0)"><path d="M-407.51 -8.55 C-416.31 -5.35, -425.12 -2.14, -431 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 6"></path></g><g transform="translate(786.5 450) rotate(0 -215.5 0)"><path d="M-407.51 8.55 C-416.31 5.35, -425.12 2.14, -431 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 6"></path></g></g><mask id="mask-v-sYcntmne1-VwMRI78NL"><rect x="0" y="0" fill="#fff" width="1317.5" height="550"></rect><rect x="500.21605682373047" y="440" fill="#000" width="141.56788635253906" height="20" opacity="1"></rect></mask><g transform="translate(500.21605682373047 440) rotate(0 70.78394317626953 10)"><text x="70.78394317626953" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">200 OK { shareUrl }</text></g><g mask="url(#mask-2KRB1ZAIQui3BV47LJjTR)" stroke-linecap="round"><g transform="translate(789.5 548) rotate(0 243.5 0)"><path d="M0 0 C81.17 0, 405.83 0, 487 0 M0 0 C81.17 0, 405.83 0, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(789.5 548) rotate(0 243.5 0)"><path d="M463.51 8.55 C472.47 5.29, 481.44 2.02, 487 0 M463.51 8.55 C472.14 5.41, 480.76 2.27, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(789.5 548) rotate(0 243.5 0)"><path d="M463.51 -8.55 C472.47 -5.29, 481.44 -2.02, 487 0 M463.51 -8.55 C472.14 -5.41, 480.76 -2.27, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-2KRB1ZAIQui3BV47LJjTR"><rect x="0" y="0" fill="#fff" width="1376.5" height="648"></rect><rect x="948.9200820922852" y="538" fill="#000" width="168.1598358154297" height="20" opacity="1"></rect></mask><g transform="translate(948.9200820922852 538) rotate(0 84.07991790771484 10)"><text x="84.07991790771484" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">START TRANSACTION</text></g><g mask="url(#mask-pRgyfuQMeBMa18Cpyu95I)" stroke-linecap="round"><g transform="translate(789.5 600) rotate(0 243.5 0)"><path d="M0 0 C81.17 0, 405.83 0, 487 0 M0 0 C81.17 0, 405.83 0, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(789.5 600) rotate(0 243.5 0)"><path d="M463.51 8.55 C470.4 6.04, 477.29 3.54, 487 0 M463.51 8.55 C469.97 6.2, 476.43 3.85, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(789.5 600) rotate(0 243.5 0)"><path d="M463.51 -8.55 C470.4 -6.04, 477.29 -3.54, 487 0 M463.51 -8.55 C469.97 -6.2, 476.43 -3.85, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-pRgyfuQMeBMa18Cpyu95I"><rect x="0" y="0" fill="#fff" width="1376.5" height="700"></rect><rect x="909.1841125488281" y="590" fill="#000" width="247.63177490234375" height="20" opacity="1"></rect></mask><g transform="translate(909.1841125488281 590) rotate(0 123.81588745117188 10)"><text x="123.81588745117188" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">INSERT into shared_conversations</text></g><g mask="url(#mask-o4-Zl1sKLvh0qY9Muzxi-)" stroke-linecap="round"><g transform="translate(789.5 652) rotate(0 243.5 0)"><path d="M0 0 C81.17 0, 405.83 0, 487 0 M0 0 C81.17 0, 405.83 0, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(789.5 652) rotate(0 243.5 0)"><path d="M463.51 8.55 C472.59 5.25, 481.67 1.94, 487 0 M463.51 8.55 C471.61 5.6, 479.72 2.65, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(789.5 652) rotate(0 243.5 0)"><path d="M463.51 -8.55 C472.59 -5.25, 481.67 -1.94, 487 0 M463.51 -8.55 C471.61 -5.6, 479.72 -2.65, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-o4-Zl1sKLvh0qY9Muzxi-"><rect x="0" y="0" fill="#fff" width="1376.5" height="752"></rect><rect x="899.5201263427734" y="642" fill="#000" width="266.9597473144531" height="20" opacity="1"></rect></mask><g transform="translate(899.5201263427734 642) rotate(0 133.47987365722656 10)"><text x="133.47987365722656" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">INSERT into shared_messages (loop)</text></g><g mask="url(#mask-9ixsKi4LZnw7_Wc-xpAOa)" stroke-linecap="round"><g transform="translate(789.5 704) rotate(0 243.5 0)"><path d="M0 0 C81.17 0, 405.83 0, 487 0 M0 0 C81.17 0, 405.83 0, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(789.5 704) rotate(0 243.5 0)"><path d="M463.51 8.55 C470.19 6.12, 476.88 3.68, 487 0 M463.51 8.55 C469.44 6.39, 475.36 4.24, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(789.5 704) rotate(0 243.5 0)"><path d="M463.51 -8.55 C470.19 -6.12, 476.88 -3.68, 487 0 M463.51 -8.55 C469.44 -6.39, 475.36 -4.24, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-9ixsKi4LZnw7_Wc-xpAOa"><rect x="0" y="0" fill="#fff" width="1376.5" height="804"></rect><rect x="1000.9280242919922" y="694" fill="#000" width="64.14395141601562" height="20" opacity="1"></rect></mask><g transform="translate(1000.9280242919922 694) rotate(0 32.07197570800781 10)"><text x="32.07197570800781" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">COMMIT</text></g><g mask="url(#mask-WHkyBrNBaEgUBXai_n0qA)" stroke-linecap="round"><g transform="translate(1279.5 756) rotate(0 -243.5 0)"><path d="M0 0 C-81.17 0, -405.83 0, -487 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g><g transform="translate(1279.5 756) rotate(0 -243.5 0)"><path d="M-463.51 -8.55 C-469.58 -6.34, -475.64 -4.13, -487 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 6"></path></g><g transform="translate(1279.5 756) rotate(0 -243.5 0)"><path d="M-463.51 8.55 C-469.58 6.34, -475.64 4.13, -487 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 6"></path></g></g><mask id="mask-WHkyBrNBaEgUBXai_n0qA"><rect x="0" y="0" fill="#fff" width="1866.5" height="856"></rect><rect x="983.2800216674805" y="746" fill="#000" width="105.43995666503906" height="20" opacity="1"></rect></mask><g transform="translate(983.2800216674805 746) rotate(0 52.71997833251953 10)"><text x="52.71997833251953" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">返回新 shareId</text></g><g mask="url(#mask-LiYX0-w73YqWAfYuuikN2)" stroke-linecap="round"><g transform="translate(786.5 808) rotate(0 -215.5 0)"><path d="M0 0 C-71.83 0, -359.17 0, -431 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g><g transform="translate(786.5 808) rotate(0 -215.5 0)"><path d="M-407.51 -8.55 C-415.13 -5.77, -422.76 -3, -431 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 6"></path></g><g transform="translate(786.5 808) rotate(0 -215.5 0)"><path d="M-407.51 8.55 C-415.13 5.77, -422.76 3, -431 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 6"></path></g></g><mask id="mask-LiYX0-w73YqWAfYuuikN2"><rect x="0" y="0" fill="#fff" width="1317.5" height="908"></rect><rect x="482.86407470703125" y="798" fill="#000" width="176.2718505859375" height="20" opacity="1"></rect></mask><g transform="translate(482.86407470703125 798) rotate(0 88.13592529296875 10)"><text x="88.13592529296875" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">201 Created { shareUrl }</text></g><g mask="url(#mask-QR8-p_5XhJcZfu1ExCX6a)" stroke-linecap="round"><g transform="translate(349.5 870) rotate(0 -97 0)"><path d="M0 0 C-32.33 0, -161.67 0, -194 0 M0 0 C-32.33 0, -161.67 0, -194 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(349.5 870) rotate(0 -97 0)"><path d="M-170.51 -8.55 C-178.68 -5.58, -186.85 -2.6, -194 0 M-170.51 -8.55 C-179.75 -5.19, -188.99 -1.82, -194 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(349.5 870) rotate(0 -97 0)"><path d="M-170.51 8.55 C-178.68 5.58, -186.85 2.6, -194 0 M-170.51 8.55 C-179.75 5.19, -188.99 1.82, -194 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-QR8-p_5XhJcZfu1ExCX6a"><rect x="0" y="0" fill="#fff" width="643.5" height="970"></rect><rect x="204.5" y="860" fill="#000" width="96" height="20" opacity="1"></rect></mask><g transform="translate(204.5 860) rotate(0 48 10)"><text x="48" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">显示分享链接</text></g><g mask="url(#mask-PytRiz1zMLyN7eJvRLEDN)" stroke-linecap="round"><g transform="translate(152.5 971) rotate(0 315.5 0)"><path d="M0 0 C105.17 0, 525.83 0, 631 0 M0 0 C105.17 0, 525.83 0, 631 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(152.5 971) rotate(0 315.5 0)"><path d="M607.51 8.55 C615.47 5.65, 623.44 2.75, 631 0 M607.51 8.55 C615.99 5.46, 624.47 2.38, 631 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(152.5 971) rotate(0 315.5 0)"><path d="M607.51 -8.55 C615.47 -5.65, 623.44 -2.75, 631 0 M607.51 -8.55 C615.99 -5.46, 624.47 -2.38, 631 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-PytRiz1zMLyN7eJvRLEDN"><rect x="0" y="0" fill="#fff" width="883.5" height="1071"></rect><rect x="341.2641067504883" y="961" fill="#000" width="253.47178649902344" height="20" opacity="1"></rect></mask><g transform="translate(341.2641067504883 961) rotate(0 126.73589324951172 10)"><text x="126.73589324951172" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">GET /share/{shareId}?mode=stream</text></g><g mask="url(#mask-m0lrRS7jJfdWYDCpzwrJg)" stroke-linecap="round"><g transform="translate(789.5 1023) rotate(0 243.5 0)"><path d="M0 0 C81.17 0, 405.83 0, 487 0 M0 0 C81.17 0, 405.83 0, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(789.5 1023) rotate(0 243.5 0)"><path d="M463.51 8.55 C471.87 5.51, 480.23 2.46, 487 0 M463.51 8.55 C472.6 5.24, 481.7 1.93, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(789.5 1023) rotate(0 243.5 0)"><path d="M463.51 -8.55 C471.87 -5.51, 480.23 -2.46, 487 0 M463.51 -8.55 C472.6 -5.24, 481.7 -1.93, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-m0lrRS7jJfdWYDCpzwrJg"><rect x="0" y="0" fill="#fff" width="1376.5" height="1123"></rect><rect x="867.9921569824219" y="1013" fill="#000" width="330.01568603515625" height="20" opacity="1"></rect></mask><g transform="translate(867.9921569824219 1013) rotate(0 165.00784301757812 10)"><text x="165.00784301757812" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">SELECT on shared_conversations (by shareId)</text></g><g mask="url(#mask-wsxtsC_-b9_UVJiz0kZkA)" stroke-linecap="round"><g transform="translate(788.5 1074.5) rotate(0 0.5 10.5)"><path d="M0 0 C0.17 3.5, 0.83 17.5, 1 21 M0 0 C0.17 3.5, 0.83 17.5, 1 21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(788.5 1074.5) rotate(0 0.5 10.5)"><path d="M-3.06 11.3 C-2.23 13.28, -1.41 15.25, 1 21 M-3.06 11.3 C-1.98 13.88, -0.9 16.46, 1 21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(788.5 1074.5) rotate(0 0.5 10.5)"><path d="M4.12 10.96 C3.49 13.01, 2.85 15.05, 1 21 M4.12 10.96 C3.29 13.63, 2.46 16.29, 1 21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-wsxtsC_-b9_UVJiz0kZkA"><rect x="0" y="0" fill="#fff" width="889.5" height="1195.5"></rect><rect x="734.696044921875" y="1065" fill="#000" width="108.60791015625" height="40" opacity="1"></rect></mask><g transform="translate(734.696044921875 1065) rotate(0 54.303955078125 20)"><text x="54.303955078125" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">异步 UPDATE</text><text x="54.303955078125" y="35.264" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">view_count + 1</text></g><g mask="url(#mask-jPcj12A_-Ocwneg331O2u)" stroke-linecap="round"><g transform="translate(786.5 1203) rotate(0 -315.5 0)"><path d="M0 0 C-105.17 0, -525.83 0, -631 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g><g transform="translate(786.5 1203) rotate(0 -315.5 0)"><path d="M-607.51 -8.55 C-615.34 -5.7, -623.18 -2.85, -631 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 6"></path></g><g transform="translate(786.5 1203) rotate(0 -315.5 0)"><path d="M-607.51 8.55 C-615.34 5.7, -623.18 2.85, -631 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 6"></path></g></g><mask id="mask-jPcj12A_-Ocwneg331O2u"><rect x="0" y="0" fill="#fff" width="1517.5" height="1303"></rect><rect x="380.1920700073242" y="1193" fill="#000" width="181.61585998535156" height="20" opacity="1"></rect></mask><g transform="translate(380.1920700073242 1193) rotate(0 90.80792999267578 10)"><text x="90.80792999267578" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">302 Redirect to App URL</text></g><g mask="url(#mask-snHw_d3GkBJbE0YoBuMne)" stroke-linecap="round"><g transform="translate(786.5 1301) rotate(0 -315.5 0)"><path d="M0 0 C-105.17 0, -525.83 0, -631 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g><g transform="translate(786.5 1301) rotate(0 -315.5 0)"><path d="M-607.51 -8.55 C-615.59 -5.61, -623.68 -2.67, -631 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 6"></path></g><g transform="translate(786.5 1301) rotate(0 -315.5 0)"><path d="M-607.51 8.55 C-615.59 5.61, -623.68 2.67, -631 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 6"></path></g></g><mask id="mask-snHw_d3GkBJbE0YoBuMne"><rect x="0" y="0" fill="#fff" width="1517.5" height="1401"></rect><rect x="406.6960144042969" y="1291" fill="#000" width="128.60797119140625" height="20" opacity="1"></rect></mask><g transform="translate(406.6960144042969 1291) rotate(0 64.30398559570312 10)"><text x="64.30398559570312" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">返回预览页 HTML</text></g><g mask="url(#mask-IRZ8fsKnqPUCcsYbwG-lf)" stroke-linecap="round"><g transform="translate(152.5 1353) rotate(0 315.5 0)"><path d="M0 0 C105.17 0, 525.83 0, 631 0 M0 0 C105.17 0, 525.83 0, 631 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(152.5 1353) rotate(0 315.5 0)"><path d="M607.51 8.55 C614.11 6.15, 620.71 3.74, 631 0 M607.51 8.55 C616.86 5.15, 626.21 1.75, 631 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(152.5 1353) rotate(0 315.5 0)"><path d="M607.51 -8.55 C614.11 -6.15, 620.71 -3.74, 631 0 M607.51 -8.55 C616.86 -5.15, 626.21 -1.75, 631 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-IRZ8fsKnqPUCcsYbwG-lf"><rect x="0" y="0" fill="#fff" width="883.5" height="1453"></rect><rect x="320.2401123046875" y="1343" fill="#000" width="295.519775390625" height="20" opacity="1"></rect></mask><g transform="translate(320.2401123046875 1343) rotate(0 147.7598876953125 10)"><text x="147.7598876953125" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">GET /api/v1/shares/{shareId} (页面JS发起)</text></g><g mask="url(#mask-0qJjTLRAal-83oddMPL2_)" stroke-linecap="round"><g transform="translate(789.5 1405) rotate(0 243.5 0)"><path d="M0 0 C81.17 0, 405.83 0, 487 0 M0 0 C81.17 0, 405.83 0, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(789.5 1405) rotate(0 243.5 0)"><path d="M463.51 8.55 C471.41 5.67, 479.31 2.8, 487 0 M463.51 8.55 C472.54 5.26, 481.57 1.98, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(789.5 1405) rotate(0 243.5 0)"><path d="M463.51 -8.55 C471.41 -5.67, 479.31 -2.8, 487 0 M463.51 -8.55 C472.54 -5.26, 481.57 -1.98, 487 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-0qJjTLRAal-83oddMPL2_"><rect x="0" y="0" fill="#fff" width="1376.5" height="1505"></rect><rect x="867.7281494140625" y="1395" fill="#000" width="330.543701171875" height="20" opacity="1"></rect></mask><g transform="translate(867.7281494140625 1395) rotate(0 165.2718505859375 10)"><text x="165.2718505859375" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">SELECT messages (by share_conversation_id)</text></g><g mask="url(#mask-fOhRkVwoG6rN2msyN5jEm)" stroke-linecap="round"><g transform="translate(1279.5 1457) rotate(0 -243.5 0)"><path d="M0 0 C-81.17 0, -405.83 0, -487 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g><g transform="translate(1279.5 1457) rotate(0 -243.5 0)"><path d="M-463.51 -8.55 C-471.72 -5.56, -479.93 -2.57, -487 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 6"></path></g><g transform="translate(1279.5 1457) rotate(0 -243.5 0)"><path d="M-463.51 8.55 C-471.72 5.56, -479.93 2.57, -487 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 6"></path></g></g><mask id="mask-fOhRkVwoG6rN2msyN5jEm"><rect x="0" y="0" fill="#fff" width="1866.5" height="1557"></rect><rect x="988" y="1447" fill="#000" width="96" height="20" opacity="1"></rect></mask><g transform="translate(988 1447) rotate(0 48 10)"><text x="48" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">返回消息列表</text></g><g mask="url(#mask-LZmcXXWk280E0CLSIYWXl)" stroke-linecap="round"><g transform="translate(786.5 1509) rotate(0 -315.5 0)"><path d="M0 0 C-105.17 0, -525.83 0, -631 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g><g transform="translate(786.5 1509) rotate(0 -315.5 0)"><path d="M-607.51 -8.55 C-614.7 -5.93, -621.9 -3.31, -631 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 6"></path></g><g transform="translate(786.5 1509) rotate(0 -315.5 0)"><path d="M-607.51 8.55 C-614.7 5.93, -621.9 3.31, -631 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 6"></path></g></g><mask id="mask-LZmcXXWk280E0CLSIYWXl"><rect x="0" y="0" fill="#fff" width="1517.5" height="1609"></rect><rect x="380.49608612060547" y="1499" fill="#000" width="181.00782775878906" height="20" opacity="1"></rect></mask><g transform="translate(380.49608612060547 1499) rotate(0 90.50391387939453 10)"><text x="90.50391387939453" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">200 OK { messages: [...] }</text></g><g mask="url(#mask-EcBjOER89-Llr73YofsIj)" stroke-linecap="round"><g transform="translate(151.5 1560.5) rotate(0 0.5 10.5)"><path d="M0 0 C0.17 3.5, 0.83 17.5, 1 21 M0 0 C0.17 3.5, 0.83 17.5, 1 21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(151.5 1560.5) rotate(0 0.5 10.5)"><path d="M-3.06 11.3 C-2.09 13.63, -1.11 15.95, 1 21 M-3.06 11.3 C-2.24 13.25, -1.43 15.2, 1 21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(151.5 1560.5) rotate(0 0.5 10.5)"><path d="M4.12 10.96 C3.37 13.37, 2.63 15.77, 1 21 M4.12 10.96 C3.49 12.98, 2.87 15, 1 21" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g></g><mask id="mask-EcBjOER89-Llr73YofsIj"><rect x="0" y="0" fill="#fff" width="252.5" height="1681.5"></rect><rect x="65.71204376220703" y="1551" fill="#000" width="172.57591247558594" height="40" opacity="1"></rect></mask><g transform="translate(65.71204376220703 1551) rotate(0 86.28795623779297 20)"><text x="86.28795623779297" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">根据 mode=stream 渲染</text><text x="86.28795623779297" y="35.264" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">打字机效果</text></g><g stroke-linecap="round"><g transform="translate(340 320) rotate(0 476 0)"><path d="M0 0 C313.56 0, 627.11 0, 952 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1292 320) rotate(0 0 254)"><path d="M0 0 C0 102.71, 0 205.41, 0 508" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(340 828) rotate(0 476 0)"><path d="M0 0 C220.46 0, 440.92 0, 952 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(340 320) rotate(0 0 254)"><path d="M0 0 C0 120.89, 0 241.78, 0 508" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(340 475) rotate(0 476 0)"><path d="M0 0 C370 0, 740 0, 952 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(10 1125) rotate(0 641 0)"><path d="M0 0 C381.76 0, 763.51 0, 1282 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(1292 1125) rotate(0 0 258)"><path d="M0 0 C0 168.42, 0 336.83, 0 516" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(10 1641) rotate(0 641 0)"><path d="M0 0 C362.02 0, 724.03 0, 1282 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(10 1125) rotate(0 0 258)"><path d="M0 0 C0 165.41, 0 330.81, 0 516" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(10 1228) rotate(0 641 0)"><path d="M0 0 C310.96 0, 621.92 0, 1282 0" stroke="#1e1e1e" stroke-width="2.5" fill="none" stroke-dasharray="1.5 8"></path></g></g><mask></mask><g transform="translate(811.125 328) rotate(0 29.183990478515625 10)"><text x="0" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">[已存在]</text></g><g transform="translate(786.125 483) rotate(0 29.183990478515625 10)"><text x="0" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">[不存在]</text></g><g transform="translate(614.125 1133) rotate(0 61.183990478515625 10)"><text x="0" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">[访问者是创建者]</text></g><g transform="translate(629.125 1236) rotate(0 21.183990478515625 10)"><text x="0" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">[访客]</text></g><g stroke-linecap="round" transform="translate(340 320) rotate(0 16 30)"><path d="M0 0 L32 0 L32 60 L0 60" stroke="none" stroke-width="0" fill="#e9ecef"></path><path d="M0 0 C7.98 0, 15.97 0, 32 0 M0 0 C9.43 0, 18.87 0, 32 0 M32 0 C32 14.06, 32 28.13, 32 60 M32 0 C32 18.73, 32 37.46, 32 60 M32 60 C22.79 60, 13.57 60, 0 60 M32 60 C23.22 60, 14.44 60, 0 60 M0 60 C0 47.55, 0 35.1, 0 0 M0 60 C0 39.13, 0 18.26, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(346.54400634765625 340) rotate(0 9.45599365234375 10)"><text x="9.45599365234375" y="15.264000000000001" font-family="Nunito, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">alt</text></g><g stroke-linecap="round" transform="translate(10 1125) rotate(0 16 30)"><path d="M0 0 L32 0 L32 60 L0 60" stroke="none" stroke-width="0" fill="#e9ecef"></path><path d="M0 0 C10.7 0, 21.4 0, 32 0 M0 0 C6.74 0, 13.48 0, 32 0 M32 0 C32 19.53, 32 39.06, 32 60 M32 0 C32 18.39, 32 36.78, 32 60 M32 60 C21.67 60, 11.34 60, 0 60 M32 60 C22.94 60, 13.89 60, 0 60 M0 60 C0 47.89, 0 35.78, 0 0 M0 60 C0 37.29, 0 14.57, 0 0" stroke="#1e1e1e" stroke-width="2" fill="none"></path></g><g transform="translate(15.168014526367188 1145) rotate(0 10.831985473632812 10)"><text x="10.831985473632812" y="14.096" font-family="Excalifont, Xiaolai, sans-serif, Segoe UI Emoji" font-size="16px" fill="#1e1e1e" text-anchor="middle" style="white-space: pre;" direction="ltr" dominant-baseline="alphabetic">alt</text></g></svg>ing 功能时序图.svg…]()

### **3. 数据库设计 (MySQL)**

#### **3.1 Table: `shared_conversations` - 分享元数据表**
存储每一次分享的核心信息和统计数据。

| 字段名 | 类型 | 约束 | 描述 |
| :--- | :--- | :--- | :--- |
| `id` | `BIGINT UNSIGNED` | PK, AI | 主键，唯一标识。 |
| `share_id` | `VARCHAR(20)` | NOT NULL, UNIQUE | **业务主键**。对外暴露的、URL友好的短ID，例如由nanoid生成。 |
| `original_conversation_id` | `VARCHAR(255)` | NOT NULL | 原始对话的ID，用于用户回流时的重定向。 |
| `created_by_id` | `BIGINT UNSIGNED` | NOT NULL, FK(`users.id`) | 创建该分享的用户的ID，外键关联到用户表。 |
| `first_message_preview` | `VARCHAR(255)` | NULL | **性能优化字段**。冗余存储分享内容的第一句话摘要，用于在“我的分享”列表中快速展示，避免查询 `shared_messages` 表。 |
| `content_hash` | `VARCHAR(64)` | NOT NULL | **幂等性关键字段**。由分享的所有消息内容计算出的SHA-256哈希值，用于判断两次分享的内容是否完全一致。 |
| `view_count` | `INT UNSIGNED` | NOT NULL, DEFAULT 0 | 浏览量计数器。 |
| `expires_at` | `DATETIME` | NULL | 分享的过期时间。`NULL` 表示永不过期。 |
| `is_deleted` | `TINYINT(1)` | NOT NULL, DEFAULT 0 | **软删除标志**。`0` 表示有效，`1` 表示已删除。 |
| `created_at` | `DATETIME` | NOT NULL, DEFAULT NOW() | 记录创建时间。 |
| `updated_at` | `DATETIME` | NOT NULL, ON UPDATE NOW() | 记录最后更新时间。 |

**索引设计**:
*   `uk_share_id` on `share_id`: 保证对外ID的唯一性，并为访问提供快速查询。
*   `idx_user_conversation_hash` on `(created_by_id, original_conversation_id, content_hash)`: **复合索引**，为创建分享时的幂等性检查提供极高的查询效率。
*   `idx_is_deleted` on `is_deleted`: 快速过滤已删除的记录。

#### **3.2 Table: `shared_messages` - 分享消息表**
存储分享中包含的具体消息内容，与 `shared_conversations` 表为一对多关系。

| 字段名 | 类型 | 约束 | 描述 |
| :--- | :--- | :--- | :--- |
| `id` | `BIGINT UNSIGNED` | PK, AI | 主键。 |
| `shared_conversation_id` | `BIGINT UNSIGNED` | NOT NULL, FK(`shared_conversations.id`) | 外键，关联到对应的分享元数据记录。 |
| `is_user` | `TINYINT(1)` | NOT NULL | 消息发送方标识。`1` 表示用户，`0` 表示 AI。 |
| `content` | `TEXT` | NOT NULL | 消息的具体内容。使用 `TEXT` 类型以支持长对话。 |
| `order_index` | `SMALLINT UNSIGNED` | NOT NULL | **顺序保证字段**。消息在对话中的顺序，从0开始。查询时需按此字段排序。 |

**索引设计**:
*   `idx_shared_conversation_id` on `shared_conversation_id`: 通过分享ID快速查找所有相关消息。

### **4. 待讨论与优化的内容**
此部分内容用于团队评审和答辩，展示我们对系统未来演进的思考。

1.  **长对话的性能问题**：当前设计将所有消息一次性返回给前端。对于包含成百上千条消息的超长对话，可能会导致API响应慢和前端渲染压力大。
    *   **优化方向**：为 `GET /api/v1/shares/:shareId` 接口引入基于游标或页码的**消息分页机制**。
2.  **缓存策略**：对于热点分享（高 `view_count`），每次访问都查询数据库会造成不必要的压力。
    *   **优化方向**：引入 **Redis** 作为缓存层。当通过 `shareId` 查询时，首先检查 Redis。缓存内容可包括分享元数据和完整的消息列表。缓存的失效策略可以是 TTL（如1小时）或在分享被删除/更新时主动清除。
3.  **分析数据的处理**：`view_count` 的实时更新在高并发下可能对主表造成写压力。
    *   **优化方向**：将增加计数的请求发送到消息队列（如 Kafka/RabbitMQ），由后台消费者服务异步地、批量地更新数据库。这能将分析流量与核心业务流量解耦。
4.  **内容安全与审核**：完全公开的分享内容可能包含非法、不当信息，存在平台风险。
    *   **优化方向**：在创建分享时，将 `messages` 内容异步发送给内容审核服务（如第三方云服务）。对于检测出的违规内容，可以自动标记或隐藏该分享。

---

## 文档二：接口设计文档 (API Specification) - V2.0

### **1. 通用约定**

*   **Base URL**: `/api/v1`
*   **认证**: 凡是需要认证的接口，均需在 HTTP Header 中提供 `Authorization: Bearer <YOUR_JWT_TOKEN>`。
*   **成功响应体**:
    ```json
    { "data": { ... } }
    ```
*   **错误响应体**:
    ```json
    {
      "error": {
        "code": "ERROR_CODE_STRING",
        "message": "A human-readable error message."
      }
    }
    ```
*   **通用错误码**:
    *   `400 Bad Request` - `VALIDATION_ERROR`: 请求体或参数校验失败。
    *   `401 Unauthorized` - `UNAUTHENTICATED`: 未提供有效认证信息。
    *   `403 Forbidden` - `FORBIDDEN`: 权限不足。
    *   `404 Not Found` - `NOT_FOUND`: 资源不存在。
    *   `500 Internal Server Error` - `SERVER_ERROR`: 服务器内部错误。

### **2. 接口列表**

---

#### **2.1 创建分享**

*   **`POST /shares`**
*   **描述**: 创建一个新的会话分享。此接口实现了幂等性：对完全相同的对话内容重复分享，将返回之前已创建的分享链接。
*   **认证**: **必须**

*   **请求体** (`application/json`):
| 字段 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `messages` | `Array<Object>` | 是 | 消息对象数组，必须至少包含一条消息。 |
| `messages[].isUser` | `Boolean` | 是 | `true` 为用户消息，`false` 为 AI 消息。 |
| `messages[].content`| `String` | 是 | 消息内容，建议前端进行初步裁剪，后端将进行XSS清理。 |
| `originalConversationId`| `String` | 是 | 原始对话的ID。 |

*   **请求体示例**:
    ```json
    {
      "messages": [
        { "isUser": true, "content": "你好，什么是RESTful API？" },
        { "isUser": false, "content": "RESTful API是一种..." }
      ],
      "originalConversationId": "conv_7a8b9c0d"
    }
    ```

*   **响应**:
    *   **`201 Created` - 成功创建新的分享**
    *   **`200 OK` - 找到已存在的相同内容分享**
        ```json
        {
          "data": {
            "shareId": "aB3cD_eF5gH6",
            "shareUrl": "https://yourdomain.com/share/aB3cD_eF5gH6"
          }
        }
        ```
    *   **`400 Bad Request`**: `messages` 数组为空或格式错误。
    *   **`401 Unauthorized`**: 未登录。

---

#### **2.2 获取分享数据**

*   **`GET /shares/:shareId`**
*   **描述**: 获取指定分享的详细内容，供前端预览页渲染使用。
*   **认证**: 无

*   **路径参数**:
| 参数 | 类型 | 描述 |
| :--- | :--- | :--- |
| `shareId` | `String` | 分享的唯一标识符。 |

*   **响应**:
    *   **`200 OK` - 成功**
        ```json
        {
          "data": {
            "shareId": "aB3cD_eF5gH6",
            "messages": [
              { "isUser": true, "content": "你好，什么是RESTful API？" },
              { "isUser": false, "content": "RESTful API是一种..." }
            ],
            "createdAt": "2023-10-28T10:00:00.000Z"
          }
        }
        ```
    *   **`404 Not Found`**: `shareId` 不存在或分享已被删除。

---

#### **2.3 获取我的分享列表**

*   **`GET /shares/my`**
*   **描述**: 获取当前登录用户创建的所有分享，按创建时间降序分页返回。
*   **认证**: **必须**

*   **查询参数**:
| 参数 | 类型 | 默认值 | 描述 |
| :--- | :--- | :--- | :--- |
| `page` | `Integer` | 1 | 页码，从1开始。 |
| `limit`| `Integer` | 10 | 每页数量，最大50。 |

*   **响应**:
    *   **`200 OK` - 成功**
        ```json
        {
          "data": {
            "shares": [
              {
                "shareId": "aB3cD_eF5gH6",
                "firstMessagePreview": "你好，什么是RESTful API？",
                "viewCount": 128,
                "createdAt": "2023-10-28T10:00:00.000Z",
                "expiresAt": null
              }
            ],
            "pagination": {
              "currentPage": 1,
              "totalPages": 5,
              "totalItems": 48
            }
          }
        }
        ```

---

#### **2.4 删除分享**

*   **`DELETE /shares/:shareId`**
*   **描述**: 软删除一个由当前用户创建的分享。
*   **认证**: **必须**

*   **路径参数**:
| 参数 | 类型 | 描述 |
| :--- | :--- | :--- |
| `shareId` | `String` | 要删除的分享的ID。 |

*   **响应**:
    *   **`204 No Content` - 成功** (响应体为空)
    *   **`403 Forbidden`**: 尝试删除不属于自己的分享。
    *   **`404 Not Found`**: `shareId` 不存在。

---

#### **2.5 更新分享**

*   **`PATCH /shares/:shareId`**
*   **描述**: 更新一个分享的属性，例如设置或清除其有效期。
*   **认证**: **必须**

*   **路径参数**:
| 参数 | 类型 | 描述 |
| :--- | :--- | :--- |
| `shareId` | `String` | 要更新的分享的ID。 |

*   **请求体** (`application/json`):
| 字段 | 类型 | 必填 | 描述 |
| :--- | :--- | :--- | :--- |
| `expiresAt` | `String` or `null` | 否 | ISO 8601格式的日期字符串，或 `null` 来清除有效期。 |

*   **请求体示例**:
    ```json
    {
      "expiresAt": "2025-01-01T00:00:00.000Z"
    }
    ```

*   **响应**:
    *   **`200 OK` - 成功**
        ```json
        {
          "data": {
            "shareId": "aB3cD_eF5gH6",
            "expiresAt": "2025-01-01T00:00:00.000Z"
          }
        }
        ```
    *   **`403 Forbidden`**: 尝试更新不属于自己的分享。
    *   **`404 Not Found`**: `shareId` 不存在。

### **3. 非数据接口（智能路由）**

---

#### **3.1 访问分享页**

*   **`GET /share/:shareId`**
*   **描述**: 这是用户访问分享链接的统一入口，**不是一个标准的RESTful API**。它根据访问者身份返回 HTML 页面或重定向。
*   **认证**: `Optional`

*   **查询参数**:
| 参数 | 类型 | 描述 |
| :--- | :--- | :--- |
| `mode` | `String` | 可选。`stream`: 指示前端使用打字机回放效果。 |

*   **行为**:
    *   如果访问者是分享的创建者，返回 **`302 Found`** 重定向到应用内对话页。
    *   如果访问者是其他人或未登录，返回 **`200 OK`** 并携带预览页的 HTML 内容。前端将通过此页面中的 JS 逻辑调用 `/api/v1/shares/:shareId` 获取数据并根据 `mode` 参数进行渲染。
    *   如果 `shareId` 无效，返回 **`404 Not Found`** 页面。
